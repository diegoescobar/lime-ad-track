function sendIP(e,t){if(window.XMLHttpRequest){var n=new XMLHttpRequest}else{var n=new ActiveXObject("Microsoft.XMLHTTP")}n.open("POST",host+"process.php",true);n.setRequestHeader("Content-type","application/x-www-form-urlencoded");n.setRequestHeader("Content-length",t.length);n.timeout=4e3;n.onreadystatechange=function(){if(n.readyState==4&&n.status==200){ittr_id=n.responseText.trim();document.getElementById("this_ad").href="process.php?"+t+"&id="+ittr_id}};n.send(t)}function blocked(){var e=document.getElementById("this_ad");var t=document.getElementById("ad_img");var n=document.createElement("p");var r=document.createTextNode("Ad Blocker caught this ad");n.appendChild(r);e.replaceChild(n,t);params="ip="+this_ip+"&ad="+ad_id+"&view=1&blocked=1&id=";document.getElementById("this_ad").href=base+"process.php?"+params;sendIP(this_ip,params)}function loaded(){params="ip="+this_ip+"&ad="+ad_id+"&view=1&blocked=0";document.getElementById("ad_img").href=base+"process.php?"+params;sendIP(this_ip,params)}function create_ad(){var e=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;var t=new Image;if(e>800){ad_width=728;ad_height=90}else if(e<=800&&e>400){ad_width=468;ad_height=60}else{ad_width=320;ad_height=50}var n=document.createElement("a");n.id="this_ad";n.href=base+"process.php?"+params;n.innerHTML='<img id="ad_img" src="#"></a>';document.body.appendChild(n);t.src=base_imgs+img_series+"_"+ad_width+"x"+ad_height+".jpg";document.getElementById("ad_img").src=t.src;t.onload=function(){loaded()};t.onerror=function(){blocked()}}function r(e){/in/.test(document.readyState)?setTimeout("r("+e+")",9):e()}var base_imgs=base+"images/";var this_ip="";var ittr_id="";var params="";r(function(){var e="1";var t="";if(window.XMLHttpRequest){var n=new XMLHttpRequest}else{var n=new ActiveXObject("Microsoft.XMLHTTP")}n.open("GET","http://api.hostip.info/get_html.php",false);n.send();t=n.responseText.trim().split("\n");for(var r=0;r<t.length;r++){ipAddress=t[r].trim().split(":");if(ipAddress[0]=="IP"){this_ip=ipAddress[1].trim();params="ip="+this_ip+"&ad="+e+"&view=1&blocked=0";create_ad()}}})